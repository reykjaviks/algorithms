<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset = "utf-8">
    <script>
      // Implement the following max heap operations:
      // heap-insert(A, k)
      // heap-max(A)
      // heap-del-max(A)

      function Heap(A) {
        // Implement the following subroutines:
        // parent(i) return A[i/2]
        this.parent = (i) => {
        }
        // left(i) return 2i
        this.left = (i) => {
          return 2*i+1
        }
        // right(i) return 2i + 1
        this.right = (i) => {
          return 2*i+2
        }

        // swap(A, i, key) swaps the values of A[x] and A[y]
        this.swap = (x, y) => {
          if (A[x] && A[y]) {
            const help = A[x]
            A[x] = A[y]
            A[y] = help
          }
        }

        // heapify(A, i) establish the heap property
        this.heapify = (i) => {
          let left = this.left(i)
          let right = this.right(i)
          if (right < A.length) {
            if (A[left] > A[right]) largest = left
            else largest = right
            if (A[i] < A[largest]) {
              this.swap(i, largest)
              this.heapify(largest)
            }
          } else if (left === A.length && A[i] < A[left]) {
            this.swap(i, left)
          }
        }
      }

      function Node(key, left, right, parent) {
        this.key = key
        this.left = this.right = this.parent = null
      }

      const arr = [16, 4, 10, 14, 7]
      const heap = new Heap(arr)
      console.log(arr)
      heap.heapify(1)
      console.log(arr)

    </script>
  </head>
</html>
